/****************************************************************************/
/*	Description		:消息框架共通头文件										*/
/*--------------------------------------------------------------------------*/
/*	Author			:DHC Chen.H												*/
/*--------------------------------------------------------------------------*/
/*	Date			:2023/04/23												*/
/*--------------------------------------------------------------------------*/
/*	Module Name		:frm_msg												*/
/*--------------------------------------------------------------------------*/
/*	Note			:														*/
/*--------------------------------------------------------------------------*/
/*	Copyright		:(c) 2020 NICHICON CORPORATION							*/
/****************************************************************************/
#ifndef __FRM_MSG_G_H__
#define __FRM_MSG_G_H__
#include <pthread.h>
#include "frm_g.h"
/*--------------------------------------------------------------------------*/
/*	マクロ定義																*/
/*--------------------------------------------------------------------------*/
#define ENABLE_STATISTIC		((uchar)1u)

/*--------------------------------------------------------------------------*/
/*	公開型宣言、定義														*/
/*--------------------------------------------------------------------------*/
typedef struct {
	ModDesc_t const *modDesc;
	sint msqId;
	pthread_t tid;
	FrmMsgHead_t *rcvBuf;
	ushort rcvBufSize;

	ushort isWorking;

	pthread_mutex_t syncCallLock;
	/* for statistics */
#ifdef ENABLE_STATISTIC
	ushort rcvQMaxUse;
	ushort sndQMaxUse;
#endif
} ModDescEx_t;

/*--------------------------------------------------------------------------*/
/*	定数宣言、定義															*/
/*--------------------------------------------------------------------------*/


/*--------------------------------------------------------------------------*/
/*	変数宣言																*/
/*--------------------------------------------------------------------------*/


/*--------------------------------------------------------------------------*/
/*	プロトタイプ宣言														*/
/*--------------------------------------------------------------------------*/
extern pthread_key_t FRM_GetPriKey(void);

#endif /*__FRM_MSG_G_H__*/
