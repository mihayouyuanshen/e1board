/****************************************************************************/
/*	Description		:														*/
/*--------------------------------------------------------------------------*/
/*	Author			:DHC Wang.M												*/
/*--------------------------------------------------------------------------*/
/*	Date			:2023/03/07												*/
/*--------------------------------------------------------------------------*/
/*	Module Name		:														*/
/*--------------------------------------------------------------------------*/
/*	Note			:														*/
/*--------------------------------------------------------------------------*/
/*	Copyright		:(c) 2020 NICHICON CORPORATION							*/
/****************************************************************************/
#ifndef __SESSION_H__
#define __SESSION_H__
/*--------------------------------------------------------------------------*/
/*	マクロ定義																*/
/*--------------------------------------------------------------------------*/
#include "typedef.h"
#include "session_g.h"

#define REMOTE_ADDR getenv("REMOTE_ADDR")
#define TEST_SESSION 1
#define SESSION_FOLDER "/tmp/sessions/"
#define SESSION_FILE_PREFIX "sess_"
#define FILEPATH_MAX_LENGTH 128

#define MAX_DELETE_FILE_COUNT 5
#define MAX_FILENAME_LENGTH 64
//*--------------------------------------------------------------------------*/
/*	公開型宣言、定義														*/
/*--------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------*/
/*	定数宣言、定義															*/
/*--------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------*/
/*	変数宣言																*/
/*--------------------------------------------------------------------------*/

/*--------------------------------------------------------------------------*/
/*	プロトタイプ宣言														*/
/*--------------------------------------------------------------------------*/
static void frm_generateSessionId(schar *sessionId);
static void frm_writeSessionFile(const schar *sessionId, const SessionUserInfo_t *sessionUserInfo);
static void frm_checkSessionTimeout(void);
static void frm_checkSessionFile(DIR *tmp_rootDir_p, schar *tmp_rootdirPath_p);

#endif /*__SESSION_H__*/
