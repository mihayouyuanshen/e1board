/****************************************************************************/
/*	Description		:														*/
/*--------------------------------------------------------------------------*/
/*	Author			:DHC Chen.H											*/
/*--------------------------------------------------------------------------*/
/*	Date			:2023/03/30												*/
/*--------------------------------------------------------------------------*/
/*	Module Name		:														*/
/*--------------------------------------------------------------------------*/
/*	Note			:														*/
/*--------------------------------------------------------------------------*/
/*	Copyright		:(c) 2020 NICHICON CORPORATION							*/
/****************************************************************************/

/*--------------------------------------------------------------------------*/
/*	Include Header File														*/
/*--------------------------------------------------------------------------*/
#include "typedef.h"
#include "frm_g.h"
#include "dlog_g.h"
#include "esys_func_g.h"
#include "esys_mod.h"

/*--------------------------------------------------------------------------*/
/*	公開変数定義															*/
/*--------------------------------------------------------------------------*/


/*--------------------------------------------------------------------------*/
/*	非公開変数定義															*/
/*--------------------------------------------------------------------------*/


/*--------------------------------------------------------------------------*/
/*	公開関数定義															*/
/*--------------------------------------------------------------------------*/
/*==========================================================================*/
/*	Description		:main													*/
/*--------------------------------------------------------------------------*/
/*	param			:sint	argc	コマンドライン引数						*/
/*--------------------------------------------------------------------------*/
/*	param			:schar*	argv[]	コマンドライン引数						*/
/*--------------------------------------------------------------------------*/
/*	return			:0	正常終了	-1	異常終了							*/
/*--------------------------------------------------------------------------*/
/*	detail			:														*/
/*--------------------------------------------------------------------------*/
/*	history			:2023/03/28 : DHC Chen.H : 新規作成					*/
/*==========================================================================*/
sint main(sint argc, schar* argv[])
{
	sint ret, result = ESYS_OK;
	slong fact;

	/* デバッグログ出力管理 */
	esys_DebugLogProc();
	DEBUG_TRCIN();
	DLOG_Info("Build Date:"__DATE__);
	if (argc < 2)
	{
		printf("arg error, usage:E1BoardApp 0\n");
		result = ESYS_ERROR;
	}
	else
	{
		fact = (slong)atoi(argv[1]);
		ret = ESYS_CheckStartFactor(fact);
		if (ESYS_OK == ret)
		{
			ESYS_SetStartFactor(fact);
		}
		else
		{
			DLOG_Error("Start factor invalid!");
			result = ESYS_ERROR;
		}
	}

	if (ESYS_OK == result)
	{
		FRM_MsgInit(g_esysModMgrTbl, MOD_NUM);
		FRM_TimerInit();
		FRM_MsgLoop();
	}
	DEBUG_TRCOUT();
	return result;
}

/*--------------------------------------------------------------------------*/
/*	非公開関数定義															*/
/*--------------------------------------------------------------------------*/


/*End Of File*/
