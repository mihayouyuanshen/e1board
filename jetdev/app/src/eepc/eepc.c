/****************************************************************************/
/*	Description		:														*/
/*--------------------------------------------------------------------------*/
/*	Author			:DHC Xu.Y												*/
/*--------------------------------------------------------------------------*/
/*	Date			:2023/04/07												*/
/*--------------------------------------------------------------------------*/
/*	Module Name		:														*/
/*--------------------------------------------------------------------------*/
/*	Note			:														*/
/*--------------------------------------------------------------------------*/
/*	Copyright		:(c) 2020 NICHICON CORPORATION							*/
/****************************************************************************/

/*--------------------------------------------------------------------------*/
/*	Include Header File														*/
/*--------------------------------------------------------------------------*/
#include "frm_g.h"
#include "dlog_g.h"
#include "eepc_com.h"
#include "eepc_g.h"
/*--------------------------------------------------------------------------*/
/*	公開変数定義															*/
/*--------------------------------------------------------------------------*/


/*--------------------------------------------------------------------------*/
/*	非公開変数定義															*/
/*--------------------------------------------------------------------------*/


/*--------------------------------------------------------------------------*/
/*	公開関数定義															*/
/*--------------------------------------------------------------------------*/
/*==========================================================================*/
/*	Description		:	EPC模块初始化										*/
/*--------------------------------------------------------------------------*/
/*	param			:	void												*/
/*--------------------------------------------------------------------------*/
/*	return			:	void												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	EPC模块初始化										*/
/*--------------------------------------------------------------------------*/
/*	history			:	2023/04/07 : DHC Xu.Y : 新規作成					*/
/*==========================================================================*/
void EEPC_Init(void)
{
	sint result = EEPC_FUNC_RESULT_OK;

	DEBUG_TRCIN();

	result = EEPC_ComInitProc();

	if (EEPC_FUNC_RESULT_OK != result)
	{
		DLOG_Error("EEPC_ComInitProc err:%d", result);
	}
	else
	{
		/* DO NOTHING */
	}

	DEBUG_TRCOUT();
}

/*==========================================================================*/
/*	Description		:	EPC模块消息处理										*/
/*--------------------------------------------------------------------------*/
/*	param			:	FrmMsgHead_t const *msg		受信パラメータ			*/
/*--------------------------------------------------------------------------*/
/*	return			:	void												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	EPC模块消息处理										*/
/*--------------------------------------------------------------------------*/
/*	history			:	2023/04/07 : DHC Xu.Y : 新規作成					*/
/*==========================================================================*/
void EEPC_MsgProc(FrmMsgHead_t const *msg)
{
	sint result = EEPC_FUNC_RESULT_OK;
	DEBUG_TRCIN();

	if (NULL == msg)
	{
		DLOG_Error("prm err");
		DEBUG_TRCOUT();
		return;
	}
	else
	{
		switch (msg->attr)
		{
		/* 非同期メッセージ */
		case FRM_MSG_ASYNC:
			result = EEPC_ComDivideAsyncMsg(msg);
			break;
		/* イベントメッセージ */
		case FRM_MSG_EVENT:
			result = EEPC_ComDivideEventMsg(msg);
			break;
		/* 同期メッセージ */
		case FRM_CALL_SYNC:
			result = EEPC_ComDivideSyncMsg(msg);
			break;
		/* 無効なメッセージID */
		default:
			DLOG_Error("msg attr err:%d", msg->attr);
			result = EEPC_FUNC_RESULT_NG;
			break;
		}

		/* 処理異常確認	*/
		if (EEPC_FUNC_RESULT_OK != result)
		{
			DLOG_Error("result err:%d", result);
		}
	}

	DEBUG_TRCOUT();
}

/*==========================================================================*/
/*	Description		:	EPC模块资源释放										*/
/*--------------------------------------------------------------------------*/
/*	param			:	void												*/
/*--------------------------------------------------------------------------*/
/*	return			:	void												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	EPC模块资源释放										*/
/*--------------------------------------------------------------------------*/
/*	history			:	2023/04/07 : DHC Xu.Y : 新規作成					*/
/*==========================================================================*/
void EEPC_Fin(void)
{
	DEBUG_TRCIN();
	DEBUG_TRCOUT();
}

/*--------------------------------------------------------------------------*/
/*	非公開関数定義															*/
/*--------------------------------------------------------------------------*/


/*End Of File*/
