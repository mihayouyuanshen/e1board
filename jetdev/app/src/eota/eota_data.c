/****************************************************************************/
/*	Description		:FW更新機能 データ操作									*/
/*--------------------------------------------------------------------------*/
/*	Author			:DHC.zhangs												*/
/*--------------------------------------------------------------------------*/
/*	Date			:2023/03/20												*/
/*--------------------------------------------------------------------------*/
/*	Module Name		:FW更新機能の機能名は、EOTAとす							*/
/*--------------------------------------------------------------------------*/
/*	Note			:														*/
/*--------------------------------------------------------------------------*/
/*	Copyright		:(c) 2023 DHC CORPORATION								*/
/****************************************************************************/

/*--------------------------------------------------------------------------*/
/*	Include Header File														*/
/*--------------------------------------------------------------------------*/
#include "eota_setting_g.h"
#include "eota_log_g.h"
#include "eota_data_g.h"

#include "eota_data.h"

/*--------------------------------------------------------------------------*/
/*	公開変数定義															*/
/*--------------------------------------------------------------------------*/


/*--------------------------------------------------------------------------*/
/*	非公開変数定義															*/
/*--------------------------------------------------------------------------*/
EOTA_UPD_INFO_T s_UpdateInfo;

/*--------------------------------------------------------------------------*/
/*	公開関数定義															*/
/*--------------------------------------------------------------------------*/
/*==========================================================================*/
/*	Description		:	初期化												*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	初期化処理を実施する								*/
/*--------------------------------------------------------------------------*/
/*	history			:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_DataIni(void)
{
	memset(&s_UpdateInfo, 0, sizeof(s_UpdateInfo));
}

/*==========================================================================*/
/*	Description		:	ダウンロード経由設定								*/
/*--------------------------------------------------------------------------*/
/*	param			:	ダウンロード経由									*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	ダウンロード経由を設定する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetDownSrc(uchar DownSrc)
{
	s_UpdateInfo.UpdStateInfo.DownSrc = DownSrc;
}

/*==========================================================================*/
/*	Description		:	ダウンロード経由取得								*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	ダウンロード経由									*/
/*--------------------------------------------------------------------------*/
/*	detail			:	ダウンロード経由を取得する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetDownSrc(void)
{
	return s_UpdateInfo.UpdStateInfo.DownSrc;
}

/*==========================================================================*/
/*	Description		:	FW 更新実施状態設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	FW 更新実施状態										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	FW 更新実施状態を設定する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetRunState(uchar fwRunState)
{
	s_UpdateInfo.UpdStateInfo.fwRunState = fwRunState;
}

/*==========================================================================*/
/*	Description		:	FW 更新実施状態取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	FW 更新実施状態										*/
/*--------------------------------------------------------------------------*/
/*	detail			:	FW 更新実施状態を取得する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetRunState(void)
{
	return s_UpdateInfo.UpdStateInfo.fwRunState;
}

/*==========================================================================*/
/*	Description		:	FW 更新状態設定										*/
/*--------------------------------------------------------------------------*/
/*	param			:	FW 更新状態											*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	FW 更新状態を設定する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdateState(uchar UpdateState)
{
	s_UpdateInfo.UpdStateInfo.UpdateState = UpdateState;
}

/*==========================================================================*/
/*	Description		:	FW 更新状態取得										*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	FW 更新状態											*/
/*--------------------------------------------------------------------------*/
/*	detail			:	FW 更新状態を取得する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetUpdateState(void)
{
	return s_UpdateInfo.UpdStateInfo.UpdateState;
}

/*==========================================================================*/
/*	Description		:	FW 更新 LED フラグ設定								*/
/*--------------------------------------------------------------------------*/
/*	param			:	FW 更新 LED フラグ									*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	FW 更新 LED フラグを設定する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdateLed(uchar UpdateLed)
{
	s_UpdateInfo.UpdStateInfo.UpdateLed = UpdateLed;
}

/*==========================================================================*/
/*	Description		:	FW 更新 LED フラグ取得								*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	FW 更新 LED フラグ									*/
/*--------------------------------------------------------------------------*/
/*	detail			:	FW 更新 LED フラグを取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetUpdateLed(void)
{
	return s_UpdateInfo.UpdStateInfo.UpdateLed;
}

/*==========================================================================*/
/*	Description		:	ダウンロード・解析対象設定							*/
/*--------------------------------------------------------------------------*/
/*	param			:	ダウンロード・解析対象								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	ダウンロード・解析対象を設定する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetDownAnalyTgt(uchar DownAnalyTgt)
{
	s_UpdateInfo.UpdStateInfo.DownAnalyTgt = DownAnalyTgt;
}

/*==========================================================================*/
/*	Description		:	ダウンロード・解析対象取得							*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	ダウンロード・解析対象								*/
/*--------------------------------------------------------------------------*/
/*	detail			:	ダウンロード・解析対象を取得する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetDownAnalyTgt(void)
{
	return s_UpdateInfo.UpdStateInfo.DownAnalyTgt;
}

/*==========================================================================*/
/*	Description		:	解析結果設定										*/
/*--------------------------------------------------------------------------*/
/*	param			:	解析結果											*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	解析結果を設定する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetAnalyRes(uchar AnalyRes)
{
	s_UpdateInfo.UpdStateInfo.AnalyRes = AnalyRes;
}

/*==========================================================================*/
/*	Description		:	解析結果取得										*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	解析結果											*/
/*--------------------------------------------------------------------------*/
/*	detail			:	解析結果を取得する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetAnalyRes(void)
{
	return s_UpdateInfo.UpdStateInfo.AnalyRes;
}

/*==========================================================================*/
/*	Description		:	TGT BOARD設定										*/
/*--------------------------------------------------------------------------*/
/*	param			:	TGT BOARD											*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT BOARDを設定する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetTgtBoard(uchar BoardTgt)
{
	s_UpdateInfo.UpdStateInfo.BoardTgt = BoardTgt;
}

/*==========================================================================*/
/*	Description		:	TGT BOARD取得										*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	TGT BOARD											*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT BOARDを取得する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetTgtBoard(void)
{
	return s_UpdateInfo.UpdStateInfo.BoardTgt;
}

/*==========================================================================*/
/*	Description		:	TGT INV設定											*/
/*--------------------------------------------------------------------------*/
/*	param			:	TGT INV												*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT INVを設定する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetTgtInv(uchar InvTgt)
{
	s_UpdateInfo.UpdStateInfo.InvTgt = InvTgt;
}

/*==========================================================================*/
/*	Description		:	TGT INV取得											*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	TGT INV												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT INVを取得する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetTgtInv(void)
{
	return s_UpdateInfo.UpdStateInfo.InvTgt;
}

/*==========================================================================*/
/*	Description		:	TGT PV設定											*/
/*--------------------------------------------------------------------------*/
/*	param			:	TGT PV												*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT PVを設定する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetTgtPV(uchar PvTgt)
{
	s_UpdateInfo.UpdStateInfo.PvTgt = PvTgt;
}

/*==========================================================================*/
/*	Description		:	TGT PV取得											*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	TGT PV												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT PVを取得する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetTgtPV(void)
{
	return s_UpdateInfo.UpdStateInfo.PvTgt;
}

/*==========================================================================*/
/*	Description		:	TGT BDC設定											*/
/*--------------------------------------------------------------------------*/
/*	param			:	TGT BDC												*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT BDCを設定する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetTgtBDC(uchar BdcTgt)
{
	s_UpdateInfo.UpdStateInfo.BdcTgt = BdcTgt;
}

/*==========================================================================*/
/*	Description		:	TGT BDC取得											*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	TGT BDC												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT BDCを取得する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetTgtBDC(void)
{
	return s_UpdateInfo.UpdStateInfo.BdcTgt;
}

/*==========================================================================*/
/*	Description		:	TGT J.B.設定										*/
/*--------------------------------------------------------------------------*/
/*	param			:	TGT J.B.											*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT J.B.を設定する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetTgtJB(uchar JbTgt)
{
	s_UpdateInfo.UpdStateInfo.JbTgt = JbTgt;
}

/*==========================================================================*/
/*	Description		:	TGT J.B.取得										*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	TGT J.B.											*/
/*--------------------------------------------------------------------------*/
/*	detail			:	TGT J.B.を取得する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetTgtJB(void)
{
	return s_UpdateInfo.UpdStateInfo.JbTgt;
}

/*==========================================================================*/
/*	Description		:	更新 No設定											*/
/*--------------------------------------------------------------------------*/
/*	param			:	更新 No												*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新 Noを設定する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdNO(ushort UpdNo)
{
	s_UpdateInfo.UpdSaveInfo.UpdNo = UpdNo;
}

/*==========================================================================*/
/*	Description		:	更新 No取得											*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	更新 No												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新 Noを取得する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
ushort EOTA_GetUpdNO(void)
{
	return s_UpdateInfo.UpdSaveInfo.UpdNo;
}

/*==========================================================================*/
/*	Description		:	削除フラグ設定										*/
/*--------------------------------------------------------------------------*/
/*	param			:	削除フラグ											*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	削除フラグを設定する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetDownDelFlg(uchar DownDelFlg)
{
	s_UpdateInfo.UpdStateInfo.DownDelFlg = DownDelFlg;
}

/*==========================================================================*/
/*	Description		:	削除フラグ取得										*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	削除フラグ											*/
/*--------------------------------------------------------------------------*/
/*	detail			:	削除フラグを取得する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetDownDelFlg(void)
{
	return s_UpdateInfo.UpdStateInfo.DownDelFlg;
}

/*==========================================================================*/
/*	Description		:	更新 Mode設定										*/
/*--------------------------------------------------------------------------*/
/*	param			:	更新 Mode											*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新 Modeを設定する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdMode(uchar UpdMode)
{
	s_UpdateInfo.UpdStateInfo.UpdMode = UpdMode;
}

/*==========================================================================*/
/*	Description		:	更新 Mode取得										*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	更新 Mode											*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新 Modeを取得する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetUpdMode(void)
{
	return s_UpdateInfo.UpdStateInfo.UpdMode;
}

/*==========================================================================*/
/*	Description		:	更新部品状態設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	更新部品状態										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新部品状態を設定する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdProjectState(uchar UpdProject)
{
	s_UpdateInfo.UpdStateInfo.UpdProjectState = UpdProject;
}

/*==========================================================================*/
/*	Description		:	更新部品状態取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	更新部品状態										*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新部品状態を取得する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetUpdProjectState(void)
{
	return s_UpdateInfo.UpdStateInfo.UpdProjectState;
}

/*==========================================================================*/
/*	Description		:	更新中状態設定										*/
/*--------------------------------------------------------------------------*/
/*	param			:	更新中状態											*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新中状態を設定する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdIngState(uchar UpdIngState)
{
	s_UpdateInfo.UpdStateInfo.UpdIngState = UpdIngState;
}

/*==========================================================================*/
/*	Description		:	更新中状態取得										*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	更新中状態											*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新中状態を取得する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetUpdIngState(void)
{
	return s_UpdateInfo.UpdStateInfo.UpdIngState;
}

/*==========================================================================*/
/*	Description		:	FW 更新実施時刻設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	FW 更新実施時刻										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	FW 更新実施時刻を設定する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdTime(const schar * UpdTime)
{
	/* FW 更新実施時刻=初期値 */
	memset(s_UpdateInfo.UpdSaveInfo.UpdTime,
			0,
			sizeof(s_UpdateInfo.UpdSaveInfo.UpdTime));

	memcpy(&s_UpdateInfo.UpdSaveInfo.UpdTime, UpdTime, strlen(UpdTime));
}

/*==========================================================================*/
/*	Description		:	FW 更新実施時刻取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	FW 更新実施時刻										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	FW 更新実施時刻を取得する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetUpdTime(schar ** UpdTime)
{
	memcpy(*UpdTime,
			s_UpdateInfo.UpdSaveInfo.UpdTime,
			strlen(s_UpdateInfo.UpdSaveInfo.UpdTime));
}

/*==========================================================================*/
/*	Description		:	更新中止状態設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	更新中止状態										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新中止状態を設定する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdStop(uchar UpdateStop)
{
	s_UpdateInfo.UpdStateInfo.UpdateStop = UpdateStop;
}

/*==========================================================================*/
/*	Description		:	更新中止状態取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	更新中止状態										*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新中止状態を取得する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetUpdStop(void)
{
	return s_UpdateInfo.UpdStateInfo.UpdateStop;
}

/*==========================================================================*/
/*	Description		:	一回応答タイム状態設定								*/
/*--------------------------------------------------------------------------*/
/*	param			:	一回応答タイム状態									*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	一回応答タイム状態を設定する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetInvTimeRes(uchar InvTimeRes)
{
	s_UpdateInfo.TimeInfo.InvTimeRes = InvTimeRes;
}

/*==========================================================================*/
/*	Description		:	一回応答タイム状態取得								*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	一回応答タイム状態									*/
/*--------------------------------------------------------------------------*/
/*	detail			:	一回応答タイム状態を取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetInvTimeRes(void)
{
	return s_UpdateInfo.TimeInfo.InvTimeRes;
}

/*==========================================================================*/
/*	Description		:	通信タイムアウト状態設定							*/
/*--------------------------------------------------------------------------*/
/*	param			:	通信タイムアウト状態								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	通信タイムアウト状態を設定する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetInvTimeOut(uchar InvTimeOut)
{
	s_UpdateInfo.TimeInfo.InvTimeOut = InvTimeOut;
}

/*==========================================================================*/
/*	Description		:	通信タイムアウト状態取得							*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	通信タイムアウト状態								*/
/*--------------------------------------------------------------------------*/
/*	detail			:	通信タイムアウト状態を取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetInvTimeOut(void)
{
	return s_UpdateInfo.TimeInfo.InvTimeOut;
}

/*==========================================================================*/
/*	Description		:	前回のメッセージ設定								*/
/*--------------------------------------------------------------------------*/
/*	param			:	前回のメッセージ									*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	前回のメッセージを設定する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetBefMessage(EOTA_CMD11_REQ_INFO_T * Message)
{
	/* 前回のメッセージ=初期値 */
	memset(&s_UpdateInfo.Message,
			0,
			sizeof(EOTA_CMD11_REQ_INFO_T));

	memcpy(&s_UpdateInfo.Message, Message, sizeof(EOTA_CMD11_REQ_INFO_T));
}

/*==========================================================================*/
/*	Description		:	前回のメッセージ取得								*/
/*--------------------------------------------------------------------------*/
/*	param			:	前回のメッセージ									*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	前回のメッセージを取得する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetBefMessage(EOTA_CMD11_REQ_INFO_T * Message)
{
	memcpy(Message, &s_UpdateInfo.Message, sizeof(EOTA_CMD11_REQ_INFO_T));
}

/*==========================================================================*/
/*	Description		:	Invバージョン設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	Invバージョン										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Invバージョンを設定する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetInvVersion(const schar * Version)
{
	/* Invバージョン=初期値 */
	memset(s_UpdateInfo.InvInfo.Version,
			0,
			sizeof(s_UpdateInfo.InvInfo.Version));

	memcpy(&s_UpdateInfo.InvInfo.Version, Version, strlen(Version));
}

/*==========================================================================*/
/*	Description		:	Invバージョン取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	Invバージョン										*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Invバージョンを取得する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetInvVersion(schar ** Version)
{
	memcpy(*Version,
			s_UpdateInfo.InvInfo.Version,
			strlen(s_UpdateInfo.InvInfo.Version));
}

/*==========================================================================*/
/*	Description		:	 BANK1のFW ファイル名設定							*/
/*--------------------------------------------------------------------------*/
/*	param			:	 BANK1のFW ファイル名								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	 BANK1のFW ファイル名を設定する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetInvBank1File(const schar * Bank1File)
{
	/*  BANK1 の FW ファイル名=初期値 */
	memset(s_UpdateInfo.InvInfo.Bank1File,
			0,
			sizeof(s_UpdateInfo.InvInfo.Bank1File));

	memcpy(&s_UpdateInfo.InvInfo.Bank1File, Bank1File, strlen(Bank1File));
}

/*==========================================================================*/
/*	Description		:	INV BANK1のFW ファイル名取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	INV BANK1のFW ファイル名							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	INV BANK1のFW ファイル名を取得する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetInvBank1File(schar ** Bank1File)
{
	memcpy(*Bank1File,
			s_UpdateInfo.InvInfo.Bank1File,
			strlen(s_UpdateInfo.InvInfo.Bank1File));
}

/*==========================================================================*/
/*	Description		:	INV BANK2のFW ファイル名設定						*/
/*--------------------------------------------------------------------------*/
/*	param			:	INV BANK2のFW ファイル名							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	BANK2のFW ファイル名を設定する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetInvBank2File(const schar * Bank2File)
{
	/* INV BANK1 の FW ファイル名=初期値 */
	memset(s_UpdateInfo.InvInfo.Bank2File,
			0,
			sizeof(s_UpdateInfo.InvInfo.Bank2File));

	memcpy(&s_UpdateInfo.InvInfo.Bank2File, Bank2File, strlen(Bank2File));
}

/*==========================================================================*/
/*	Description		:	BANK2のFW ファイル名取得							*/
/*--------------------------------------------------------------------------*/
/*	param			:	BANK2のFW ファイル名								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	BANK2のFW ファイル名を取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetInvBank2File(schar ** Bank2File)
{
	memcpy(*Bank2File,
			s_UpdateInfo.InvInfo.Bank2File,
			strlen(s_UpdateInfo.InvInfo.Bank2File));
}

/*==========================================================================*/
/*	Description		:	Pvバージョン設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	Pvバージョン										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Pvバージョンを設定する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetPvVersion(const schar * Version)
{
	/* Pvバージョン=初期値 */
	memset(s_UpdateInfo.PvInfo.Version,
			0,
			sizeof(s_UpdateInfo.PvInfo.Version));

	memcpy(&s_UpdateInfo.PvInfo.Version, Version, strlen(Version));
}

/*==========================================================================*/
/*	Description		:	Pvバージョン取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	Pvバージョン										*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Pvバージョンを取得する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetPvVersion(schar ** Version)
{
	memcpy(*Version,
			s_UpdateInfo.PvInfo.Version,
			strlen(s_UpdateInfo.PvInfo.Version));
}

/*==========================================================================*/
/*	Description		:	PV  BANK1のFW ファイル名設定						*/
/*--------------------------------------------------------------------------*/
/*	param			:	PV  BANK1のFW ファイル名							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	PV BANK1のFW ファイル名を設定する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetPvBank1File(const schar * Bank1File)
{
	/* PV BANK1 の FW ファイル名=初期値 */
	memset(s_UpdateInfo.PvInfo.Bank1File,
			0,
			sizeof(s_UpdateInfo.PvInfo.Bank1File));

	memcpy(&s_UpdateInfo.PvInfo.Bank1File, Bank1File, strlen(Bank1File));
}

/*==========================================================================*/
/*	Description		:	PV BANK1のFW ファイル名取得							*/
/*--------------------------------------------------------------------------*/
/*	param			:	PV BANK1のFW ファイル名								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	PV BANK1のFW ファイル名を取得する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetPvBank1File(schar ** Bank1File)
{
	memcpy(*Bank1File,
			s_UpdateInfo.PvInfo.Bank1File,
			strlen(s_UpdateInfo.PvInfo.Bank1File));
}

/*==========================================================================*/
/*	Description		:	PV BANK2のFW ファイル名設定							*/
/*--------------------------------------------------------------------------*/
/*	param			:	PV BANK2のFW ファイル名								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	PV BANK2のFW ファイル名を設定する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetPvBank2File(const schar * Bank2File)
{
	/* PV BANK2 の FW ファイル名=初期値 */
	memset(s_UpdateInfo.PvInfo.Bank2File,
			0,
			sizeof(s_UpdateInfo.PvInfo.Bank2File));

	memcpy(&s_UpdateInfo.PvInfo.Bank2File, Bank2File, strlen(Bank2File));
}

/*==========================================================================*/
/*	Description		:	PV BANK2のFW ファイル名取得							*/
/*--------------------------------------------------------------------------*/
/*	param			:	PV BANK2のFW ファイル名								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	BANK2のFW ファイル名を取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetPvBank2File(schar ** Bank2File)
{
	memcpy(*Bank2File,
			s_UpdateInfo.PvInfo.Bank2File,
			strlen(s_UpdateInfo.PvInfo.Bank2File));
}

/*==========================================================================*/
/*	Description		:	Bdcバージョン設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	Bdcバージョン										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Bdcバージョンを設定する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetBdcVersion(const schar * Version)
{
	/* Bdcバージョン=初期値 */
	memset(s_UpdateInfo.BdcInfo.Version,
			0,
			sizeof(s_UpdateInfo.BdcInfo.Version));

	memcpy(&s_UpdateInfo.BdcInfo.Version, Version, strlen(Version));
}

/*==========================================================================*/
/*	Description		:	Bdcバージョン取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	Bdcバージョン										*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Bdcバージョンを取得する								*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetBdcVersion(schar ** Version)
{
	memcpy(*Version,
			s_UpdateInfo.BdcInfo.Version,
			strlen(s_UpdateInfo.BdcInfo.Version));
}

/*==========================================================================*/
/*	Description		:	Bdc  BANK1のFW ファイル名設定						*/
/*--------------------------------------------------------------------------*/
/*	param			:	Bdc  BANK1のFW ファイル名							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Bdc  BANK1のFW ファイル名を設定する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetBdcBank1File(const schar * Bank1File)
{
	/*  BANK1 の FW ファイル名=初期値 */
	memset(s_UpdateInfo.BdcInfo.Bank1File,
			0,
			sizeof(s_UpdateInfo.BdcInfo.Bank1File));

	memcpy(&s_UpdateInfo.BdcInfo.Bank1File, Bank1File, strlen(Bank1File));
}

/*==========================================================================*/
/*	Description		:	Bdc  BANK1のFW ファイル名取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	Bdc  BANK1のFW ファイル名							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	 BANK1のFW ファイル名を取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetBdcBank1File(schar ** Bank1File)
{
	memcpy(*Bank1File,
			s_UpdateInfo.BdcInfo.Bank1File,
			strlen(s_UpdateInfo.BdcInfo.Bank1File));
}

/*==========================================================================*/
/*	Description		:	Bdc BANK2のFW ファイル名設定						*/
/*--------------------------------------------------------------------------*/
/*	param			:	Bdc BANK2のFW ファイル名							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Bdc BANK2のFW ファイル名を設定する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetBdcBank2File(const schar * Bank2File)
{
	/* Bdc BANK1 の FW ファイル名=初期値 */
	memset(s_UpdateInfo.BdcInfo.Bank2File,
			0,
			sizeof(s_UpdateInfo.BdcInfo.Bank2File));

	memcpy(&s_UpdateInfo.BdcInfo.Bank2File, Bank2File, strlen(Bank2File));
}

/*==========================================================================*/
/*	Description		:	Bdc BANK2のFW ファイル名取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	Bdc BANK2のFW ファイル名							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	BANK2のFW ファイル名を取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetBdcBank2File(schar ** Bank2File)
{
	memcpy(*Bank2File,
			s_UpdateInfo.BdcInfo.Bank2File,
			strlen(s_UpdateInfo.BdcInfo.Bank2File));
}

/*==========================================================================*/
/*	Description		:	J.B. バージョン設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	J.B. バージョン										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	J.B. バージョンを設定する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetJbVersion(const schar * Version)
{
	/* Jbバージョン=初期値 */
	memset(s_UpdateInfo.JbInfo.Version,
			0,
			sizeof(s_UpdateInfo.JbInfo.Version));

	memcpy(&s_UpdateInfo.JbInfo.Version, Version, strlen(Version));
}

/*==========================================================================*/
/*	Description		:	J.B. バージョン取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	J.B. バージョン										*/
/*--------------------------------------------------------------------------*/
/*	detail			:	J.B. バージョンを取得する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetJbVersion(schar ** Version)
{
	memcpy(*Version,
			s_UpdateInfo.JbInfo.Version,
			strlen(s_UpdateInfo.JbInfo.Version));
}

/*==========================================================================*/
/*	Description		:	J.B. FW ファイル名設定								*/
/*--------------------------------------------------------------------------*/
/*	param			:	J.B. FW ファイル名									*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	J.B. FW ファイル名を設定する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetJbFile(const schar * File)
{
	/* J.B. BANK1 の FW ファイル名=初期値 */
	memset(s_UpdateInfo.JbInfo.File,
			0,
			sizeof(s_UpdateInfo.JbInfo.File));

	memcpy(&s_UpdateInfo.JbInfo.File, File, strlen(File));
}

/*==========================================================================*/
/*	Description		:	J.B. FW ファイル名取得								*/
/*--------------------------------------------------------------------------*/
/*	param			:	J.B. FW ファイル名									*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	J.B. FW ファイル名を取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetJbFile(schar ** File)
{
	memcpy(*File, s_UpdateInfo.JbInfo.File, strlen(s_UpdateInfo.JbInfo.File));
}

/*==========================================================================*/
/*	Description		:	EEPROM Checksum設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	EEPROM Checksum										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	EEPROM Checksumを設定する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetJbEepromChecksum(const schar * EepromChecksum)
{
	/* EEPROM Checksum=初期値 */
	memset(s_UpdateInfo.JbInfo.EepromChecksum,
			0,
			sizeof(s_UpdateInfo.JbInfo.EepromChecksum));

	memcpy(&s_UpdateInfo.JbInfo.EepromChecksum,
			EepromChecksum, strlen(EepromChecksum));
}

/*==========================================================================*/
/*	Description		:	EEPROM Checksum取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	EEPROM Checksum										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	EEPROM Checksumを取得する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetJbEepromChecksum(schar ** EepromChecksum)
{
	memcpy(*EepromChecksum,
			s_UpdateInfo.JbInfo.EepromChecksum,
			strlen(s_UpdateInfo.JbInfo.EepromChecksum));
}

/*==========================================================================*/
/*	Description		:	Flash Checksum設定									*/
/*--------------------------------------------------------------------------*/
/*	param			:	Flash Checksum										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Flash Checksumを設定する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetJbFalshChekusum(const schar * FalshChekusum)
{
	/* Flash Checksum初期値 */
	memset(s_UpdateInfo.JbInfo.FalshChekusum,
			0,
			sizeof(s_UpdateInfo.JbInfo.FalshChekusum));

	memcpy(&s_UpdateInfo.JbInfo.FalshChekusum,
			FalshChekusum,
			strlen(FalshChekusum));
}

/*==========================================================================*/
/*	Description		:	Flash Checksum取得									*/
/*--------------------------------------------------------------------------*/
/*	param			:	Flash Checksum										*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Flash Checksumを取得する							*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetJbFalshChekusum(schar ** FalshChekusum)
{
	memcpy(*FalshChekusum,
			s_UpdateInfo.JbInfo.FalshChekusum,
			strlen(s_UpdateInfo.JbInfo.FalshChekusum));
}

/*==========================================================================*/
/*	Description		:	更新ファイルフォルダ設定							*/
/*--------------------------------------------------------------------------*/
/*	param			:	更新ファイルフォルダ								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新ファイルフォルダを設定する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdFileDri(const schar * Dir)
{
	memset(s_UpdateInfo.UpdSaveInfo.Dir,
			0,
			sizeof(s_UpdateInfo.UpdSaveInfo.Dir));

	memcpy(&s_UpdateInfo.UpdSaveInfo.Dir, Dir, strlen(Dir));
}

/*==========================================================================*/
/*	Description		:	更新ファイルフォルダパス取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	更新ファイルフォルダパス							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新ファイルフォルダパスを取得する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_GetUpdFileDri(schar ** Dir)
{
	memcpy(*Dir,
			s_UpdateInfo.UpdSaveInfo.Dir,
			strlen(s_UpdateInfo.UpdSaveInfo.Dir));
}

/*==========================================================================*/
/*	Description		:	Inv BANK1 の ファイルサイズ設定						*/
/*--------------------------------------------------------------------------*/
/*	param			:	Inv BANK1 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Inv BANK1 の ファイルサイズを設定する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetInvBank1FileSize(slong Bank1FileSize)
{
	s_UpdateInfo.InvInfo.Bank1FileSize = Bank1FileSize;
}

/*==========================================================================*/
/*	Description		:	Inv BANK1 の ファイルサイズ取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	Inv BANK1 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Inv BANK1 の ファイルサイズを取得する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
slong EOTA_GetInvBank1FileSize()
{
	return s_UpdateInfo.InvInfo.Bank1FileSize;
}

/*==========================================================================*/
/*	Description		:	Inv BANK2 の ファイルサイズ設定						*/
/*--------------------------------------------------------------------------*/
/*	param			:	Inv BANK2 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Inv BANK2 の ファイルサイズを設定する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetInvBank2FileSize(slong Bank2FileSize)
{
	s_UpdateInfo.InvInfo.Bank2FileSize = Bank2FileSize;
}

/*==========================================================================*/
/*	Description		:	Inv BANK2 の ファイルサイズ取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	Inv BANK2 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	Inv BANK2 の ファイルサイズを取得する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
slong EOTA_GetInvBank2FileSize()
{
	return s_UpdateInfo.InvInfo.Bank2FileSize;
}

/*==========================================================================*/
/*	Description		:	PV  BANK1 の ファイルサイズ設定						*/
/*--------------------------------------------------------------------------*/
/*	param			:	PV  BANK1 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	PV  BANK1 の ファイルサイズを設定する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetPVBank1FileSize(slong Bank1FileSize)
{
	s_UpdateInfo.PvInfo.Bank1FileSize = Bank1FileSize;
}

/*==========================================================================*/
/*	Description		:	PV  BANK1 の ファイルサイズ取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	PV  BANK1 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	PV  BANK1 の ファイルサイズを取得する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
slong EOTA_GetPVBank1FileSize()
{
	return s_UpdateInfo.PvInfo.Bank1FileSize;
}

/*==========================================================================*/
/*	Description		:	PV BANK2 の ファイルサイズ設定						*/
/*--------------------------------------------------------------------------*/
/*	param			:	PV BANK2 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	PV BANK2 の ファイルサイズを設定する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetPVBank2FileSize(slong Bank2FileSize)
{
	s_UpdateInfo.PvInfo.Bank2FileSize = Bank2FileSize;
}

/*==========================================================================*/
/*	Description		:	PV BANK2 の ファイルサイズ取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	PV BANK2 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	PV BANK2 の ファイルサイズを取得する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
slong EOTA_GetPVBank2FileSize()
{
	return s_UpdateInfo.PvInfo.Bank2FileSize;
}

/*==========================================================================*/
/*	Description		:	BDC  BANK1 の ファイルサイズ設定					*/
/*--------------------------------------------------------------------------*/
/*	param			:	BDC  BANK1 の ファイルサイズ						*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	BDC  BANK1  の ファイルサイズを設定する	 			*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetBdcBank1FileSize(slong Bank1FileSize)
{
	s_UpdateInfo.BdcInfo.Bank1FileSize = Bank1FileSize;
}

/*==========================================================================*/
/*	Description		:	BDC BANK1 の ファイルサイズ取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	BDC BANK1 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	BDC BANK1 の ファイルサイズを取得する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
slong EOTA_GetBdcBank1FileSize()
{
	return s_UpdateInfo.BdcInfo.Bank1FileSize;
}

/*==========================================================================*/
/*	Description		:	BDC BANK2 の ファイルサイズ設定						*/
/*--------------------------------------------------------------------------*/
/*	param			:	BDC BANK2 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	BDC BANK2 の ファイルサイズを設定する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetBdcBank2FileSize(slong Bank2FileSize)
{
	s_UpdateInfo.BdcInfo.Bank2FileSize = Bank2FileSize;
}

/*==========================================================================*/
/*	Description		:	BDC BANK2 の ファイルサイズ取得						*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	BDC BANK2 の ファイルサイズ							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	BDC BANK2 の ファイルサイズを取得する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
slong EOTA_GetBdcBank2FileSize()
{
	return s_UpdateInfo.BdcInfo.Bank2FileSize;
}

/*==========================================================================*/
/*	Description		:	J.B. ファイルサイズ設定								*/
/*--------------------------------------------------------------------------*/
/*	return			:	J.B. ファイルサイズ									*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	J.B. ファイルサイズを設定する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetJbFileSize(slong FileSize)
{
	s_UpdateInfo.JbInfo.FileSize = FileSize;
}

/*==========================================================================*/
/*	Description		:	J.B. ファイルサイズ取得								*/
/*--------------------------------------------------------------------------*/
/*	param			:	J.B. ファイルサイズ									*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	J.B. ファイルサイズを取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
slong EOTA_GetJbFileSize()
{
	return s_UpdateInfo.JbInfo.FileSize;
}

/*==========================================================================*/
/*	Description		:	転送中Tgt設定										*/
/*--------------------------------------------------------------------------*/
/*	param			:	転送中Tgt											*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	転送中Tgtを設定する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdTgt(uchar UpdTgt)
{
	s_UpdateInfo.SendIngInfo.UpdTgt = UpdTgt;
}

/*==========================================================================*/
/*	Description		:	転送中Tgt取得										*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	転送中Tgt											*/
/*--------------------------------------------------------------------------*/
/*	detail			:	転送中Tgtを取得する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_GetUpdTgt()
{
	return s_UpdateInfo.SendIngInfo.UpdTgt;
}

/*==========================================================================*/
/*	Description		:	転送中ファイルoffset設定							*/
/*--------------------------------------------------------------------------*/
/*	param			:	転送中ファイルoffset								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	転送中ファイルoffsetを設定する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetUpdFileOffset(slong UpdFileOffset)
{
	s_UpdateInfo.SendIngInfo.UpdFileOffset = UpdFileOffset;
}

/*==========================================================================*/
/*	Description		:	転送中ファイルoffset取得							*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	転送中ファイルoffset								*/
/*--------------------------------------------------------------------------*/
/*	detail			:	転送中ファイルoffsetを取得する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
slong EOTA_GetUpdFileOffset()
{
	return s_UpdateInfo.SendIngInfo.UpdFileOffset;
}

/*==========================================================================*/
/*	Description		:	送信情報保存										*/
/*--------------------------------------------------------------------------*/
/*	param			:	FW 更新指示ファイル情報								*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	送信情報を保存する									*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetSendData(
		EOTA_UPDATE_SETUP_T * update_setup)	/* [i] FW 更新指示ファイル情報	*/
{
	DEBUG_TRCIN();

	/* Invバージョン設定 */
	EOTA_SetInvVersion(update_setup->InvFw.Version);
	/* Inv BANK1のFW ファイル名設定 */
	EOTA_SetInvBank1File(update_setup->InvFw.Bank1File);
	/* Inv BANK2のFW ファイル名設定 */
	EOTA_SetInvBank2File(update_setup->InvFw.Bank2File);

	/* Pvバージョン設定 */
	EOTA_SetPvVersion(update_setup->PvFw.Version);
	/* PV BANK1のFW ファイル名設定 */
	EOTA_SetPvBank1File(update_setup->PvFw.Bank1File);
	/* PV BANK2のFW ファイル名設定 */
	EOTA_SetPvBank2File(update_setup->PvFw.Bank2File);

	/* Bdcバージョン設定 */
	EOTA_SetBdcVersion(update_setup->BdcFw.Version);
	/* Bdc BANK1のFW ファイル名設定 */
	EOTA_SetBdcBank1File(update_setup->BdcFw.Bank1File);
	/* Bdc BANK2のFW ファイル名設定 */
	EOTA_SetBdcBank2File(update_setup->BdcFw.Bank2File);

	/* J.B. バージョン設定  */
	EOTA_SetJbVersion(update_setup->JbFw.Version);
	/* J.B. FW ファイル名設定 */
	EOTA_SetJbFile(update_setup->JbFw.File);
	/* EEPROM Checksum設定 */
	EOTA_SetJbEepromChecksum(update_setup->JbFw.EepromChecksum);
	/* Flash Checksum設定 */
	EOTA_SetJbFalshChekusum(update_setup->JbFw.FalshChekusum);

	DEBUG_TRCOUT();
}

/*==========================================================================*/
/*	Description		:	更新Sec取得											*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	更新時間											*/
/*--------------------------------------------------------------------------*/
/*	detail			:	更新Secを取得する									*/
/*--------------------------------------------------------------------------*/
/*	history			:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
slong EOTA_GetModeFUpdTime()
{
	slong 		Sec				= 0;				/* 時間差分				*/
	time_t  	Now				= 0;				/* 現在時刻				*/
	time_t		UpdTime			= 0;				/* 更新時刻				*/

	DEBUG_TRCIN();

	/* 現在時刻取得 */
	time(&Now);

	/* 更新時刻取得 */
	UpdTime = eota_UpdTime2Sec();

	Sec = UpdTime - Now;

	DEBUG_TRCOUT();

	return Sec;
}

/*==========================================================================*/
/*	Description		:	CMD11 の転送メッセージ作成(転送 FW 問い合わせ)		*/
/*--------------------------------------------------------------------------*/
/*	param			:	転送対象											*/
/* 				 		出力メッセージ										*/
/*--------------------------------------------------------------------------*/
/*	return			:	EOTA_DATA_OK	処理正常							*/
/*						EOTA_DATA_NG	処理異常							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	CMD11の転送 FW 問い合わせメッセージを作成する		*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_SetCMD11Inquiry(
	uchar			  		  Tgt,					/* [i]転送対象			*/
	EOTA_CMD11_REQ_INFO_T	* Mssage)				/* [o]出力メッセージ	*/
{
	uchar	Ret							  = EOTA_DATA_OK;
												/* 戻り値					*/
	schar Version[EOTA_SETUP_VER_SIZE + 1] = {0};
												/* バージョン				*/
	schar * VersionP					   = Version;
												/* バージョンポイント		*/
	schar EepromChecksum[EOTA_SETUP_FILE_SIZE + 1]
										   = {0};/* EEPROM Checksum			*/
	schar FalshChekusum[EOTA_SETUP_FILE_SIZE + 1]
										   = {0};/* Flash Checksum			*/
	schar * EepromChecksumP			   	   = EepromChecksum;
												/* EEPROM Checksumポイント	*/
	schar * FalshChekusumP				   = FalshChekusum;
												/* Flash Checksumポイント	*/

	DEBUG_TRCIN();

	/* パラメータチェック */
	if (NULL == Mssage)
	{
		/* パラメータはNULLの場合、エラーログを出力する */
		DLOG_Error("%s", EOTA_FUN_PARAM_NULL);
		Ret = EOTA_DATA_NG;
		return Ret;
	}

	/* メッセージ初期化 */
	memset(Mssage->DataNo, 0, sizeof(Mssage->DataNo));

	/* 転送対象 */
	switch (Tgt)
	{
	/* 1:INV */
	case EOTA_UPD_TGT_INV:
		memset(Mssage->FWVersion, 0, sizeof(Mssage->FWVersion));
		/* DataNo 4 バイトFF00 */
		sprintf((schar *)Mssage->DataNo, "%04x", EOTA_DATANO_INV_INQ);

		/* FW Version 15 バイト */
		/* Invバージョン取得 */
		EOTA_GetInvVersion(&VersionP);
		memcpy(Mssage->FWVersion, VersionP, EOTA_FW_VERSION_SIZE);

		break;
	/* 2:PV */
	case EOTA_UPD_TGT_PV:
		memset(Mssage->FWVersion, 0, sizeof(Mssage->FWVersion));
		/* DataNo 4 バイトFF01 */
		sprintf((schar *)Mssage->DataNo, "%04x", EOTA_DATANO_PV_INQ);

		/* FW Version 15 バイト */
		EOTA_GetPvVersion(&VersionP);
		memcpy(Mssage->FWVersion, VersionP, EOTA_FW_VERSION_SIZE);

		break;

	/* 3:BDC */
	case EOTA_UPD_TGT_BDC:
		memset(Mssage->FWVersion, 0, sizeof(Mssage->FWVersion));
		/* DataNo 4 バイトFF02 */
		sprintf((schar *)Mssage->DataNo, "%04x", EOTA_DATANO_BDC_INQ);

		/* FW Version 15 バイト */
		EOTA_GetBdcVersion(&VersionP);
		memcpy(Mssage->FWVersion, VersionP, EOTA_FW_VERSION_SIZE);
		break;

	/* 4:J.B. */
	case EOTA_UPD_TGT_J_B:
		memset(Mssage->FWVersionJB, 0, sizeof(Mssage->FWVersionJB));
		/* DataNo 4 バイトFF03 */
		sprintf((schar *)Mssage->DataNo, "%04x", EOTA_DATANO_JB_INQ);

		/* FW Version(J.B.)2バイト */
		EOTA_GetJbVersion(&VersionP);
		memcpy(Mssage->FWVersionJB, VersionP, EOTA_FW_VERSION_JB_SIZE);

		/* EEPROM Checksum 2 バイト */
		memset(Mssage->EepromChecksum, 0, sizeof(Mssage->EepromChecksum));
		/* EEPROM Checksum取得 */
		EOTA_GetJbEepromChecksum(&EepromChecksumP);
		memcpy(Mssage->FWVersionJB, EepromChecksumP, EOTA_EEPROM_CHECKSUM_SIZE);

		/* Flash Checksum 2 バイト */
		memset(Mssage->FlashChecksum, 0, sizeof(Mssage->FlashChecksum));
		/* Flash Checksum取得 */
		EOTA_GetJbFalshChekusum(&FalshChekusumP);
		memcpy(Mssage->FWVersionJB, FalshChekusumP, EOTA_FLASH_CHECK_SUM_SIZE);

		/* Reseved 9 バイト 全て0値 */

		break;
	default:
		break;
	}

	DEBUG_TRCOUT();

	return Ret;
}

/*==========================================================================*/
/*	Description		:	CMD11 のFW 転送開始メッセージ作成					*/
/*--------------------------------------------------------------------------*/
/*	param			:	転送対象											*/
/*				 		BANK No												*/
/*				 		出力メッセージ										*/
/*--------------------------------------------------------------------------*/
/*	return			:	EOTA_DATA_OK	処理正常							*/
/*						EOTA_DATA_NG	処理異常							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	CMD11 のFW 転送開始メッセージを作成する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_SetCMD11Start(
				uchar			  			Tgt,	/* [i]転送対象			*/
				uchar			  			BankNo,	/* [i]BANK No			*/
				EOTA_CMD11_REQ_INFO_T	* 	Mssage)	/* [o]出力メッセージ	*/
{
	uchar	Ret				= EOTA_DATA_OK;			/* 戻り値				*/
	slong 	FileSize		= 0;					/* ファイルサイズ		*/
	uchar * FWDataSize		= Mssage->FWDataSize;	/* Hexデータポイント	*/

	/* メッセージ初期化 */
	memset(Mssage->DataNo, 0, sizeof(Mssage->DataNo));

	/* パラメータチェック */
	if (NULL == Mssage)
	{
		/* パラメータはNULLの場合、エラーログを出力する */
		DLOG_Error("%s", EOTA_FUN_PARAM_NULL);
		Ret = EOTA_DATA_NG;
		return Ret;
	}

	/* DataNo 4 バイト */
	sprintf((schar *)Mssage->DataNo, "%04x", EOTA_DATANO_FW_S);

	/* 転送対象 */
	switch (Tgt)
	{
	/* 1:INV */
	case EOTA_UPD_TGT_INV:
		/* BAK1の場合 */
		if (EOTA_BANK_NO_1 == BankNo)
		{
			FileSize = EOTA_GetInvBank1FileSize();
		}
		/* BAK2の場合 */
		else if (EOTA_BANK_NO_2 == BankNo)
		{
			FileSize = EOTA_GetInvBank1FileSize();
		}
		else
		{
			/* 処理無し */
		}

		break;
	/* 2:PV */
	case EOTA_UPD_TGT_PV:
		/* BAK1の場合 */
		if (EOTA_BANK_NO_1 == BankNo)
		{
			FileSize = EOTA_GetPVBank1FileSize();
		}
		/* BAK2の場合 */
		else if (EOTA_BANK_NO_2 == BankNo)
		{
			FileSize = EOTA_GetPVBank2FileSize();
		}
		else
		{
			/* 処理無し */
		}

		break;

	/* 3:BDC */
	case EOTA_UPD_TGT_BDC:
		/* BAK1の場合 */
		if (EOTA_BANK_NO_1 == BankNo)
		{
			FileSize = EOTA_GetBdcBank1FileSize();
		}
		/* BAK2の場合 */
		else if (EOTA_BANK_NO_2 == BankNo)
		{
			FileSize = EOTA_GetBdcBank2FileSize();
		}
		else
		{
			/* 処理無し */
		}
		break;
	/* 4:J.B. */
	case EOTA_UPD_TGT_J_B:
		FileSize = EOTA_GetJbFileSize();
		break;
	default:
		break;
	}

	/* FW データサイズ 8 バイト */
	/* Hex値 */
	sprintf((schar *)FWDataSize, "%lx", FileSize);

	DEBUG_TRCOUT();

	return Ret;
}

/*==========================================================================*/
/*	Description		:	CMD11 のFW 転送メッセージ作成						*/
/*--------------------------------------------------------------------------*/
/*	param			:	DataNo												*/
/* 						入力データ											*/
/*						入力データサイズ									*/
/*						出力メッセージ										*/
/*--------------------------------------------------------------------------*/
/*	return			:	EOTA_DATA_OK	処理正常							*/
/*						EOTA_DATA_NG	処理異常							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	CMD11 のFW 転送メッセージを作成する					*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_SetCMD11Send(
				ulong		  DataNo, 				/* [i]DataNo			*/
				uchar *		  Data,					/* [i]入力データ		*/
				size_t	      Len,					/* [i]入力データサイズ	*/
				EOTA_CMD11_REQ_INFO_T	* Mssage)	/* [o]出力メッセージ	*/
{
	uchar	Ret			= EOTA_DATA_OK;				/* 戻り値				*/
	ulong	CalcCrc		= 0;						/* Crc32値				*/
	uchar   Buf[4]		= {0};						/* Crc32のbuf			*/

	DEBUG_TRCIN();

	/* パラメータチェック */
	if ((NULL == Mssage) || (NULL == Data) )
	{
		/* パラメータはNULLの場合、エラーログを出力する */
		DLOG_Error("%s", EOTA_FUN_PARAM_NULL);
		Ret = EOTA_DATA_NG;
		return Ret;
	}

	/* メッセージ初期化 */
	memset(Mssage->DataNo, 0, sizeof(Mssage->DataNo));
	memset(Mssage->FWData, EOTA_INI_DATA, EOTA_FW_DATA_SIZE_SIZE);

	/* DataNo 4 バイト */
	sprintf((schar *)Mssage->DataNo, "%lu", DataNo);

	/* CRC-32 8 バイト */
	CalcCrc = CMN_Crc32(Data, Len);
	CMN_Crc32L2Buf(CalcCrc, Buf);
	memcpy(Mssage->CRC32, Buf, sizeof(Buf));

	/* FW Data 1024 バイト */
	/* FW ファイルを 1024 バイトずつ分割した際のデータ。最後の送信は 1024 バイト以下となる場合は、0x20 でパティングすること。 */
	memcpy(Mssage->FWData, Data, Len);

	DEBUG_TRCOUT();

	return Ret;
}

/*==========================================================================*/
/*	Description		:	CMD11 のFW 転送完了メッセージ作成					*/
/*--------------------------------------------------------------------------*/
/*	param			:	出力メッセージ										*/
/*--------------------------------------------------------------------------*/
/*	return			:	EOTA_DATA_OK	処理正常							*/
/*						EOTA_DATA_NG	処理異常							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	CMD11 のFW 転送完了メッセージを作成する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_SetCMD11End(
				EOTA_CMD11_REQ_INFO_T	* Mssage)	/* [o]出力メッセージ	*/
{
	uchar	Ret	= EOTA_DATA_OK;						/* 戻り値				*/

	DEBUG_TRCIN();

	/* パラメータチェック */
	if (NULL == Mssage)
	{
		/* パラメータはNULLの場合、エラーログを出力する */
		DLOG_Error("%s", EOTA_FUN_PARAM_NULL);
		Ret = EOTA_DATA_NG;
		return Ret;
	}

	/* メッセージ初期化 */
	memset(Mssage->DataNo, 0, sizeof(Mssage->DataNo));

	/* DataNo 4 バイト */
	sprintf((schar *)Mssage->DataNo, "%04x", EOTA_DATANO_FW_F);

	DEBUG_TRCOUT();

	return Ret;
}

/*==========================================================================*/
/*	Description		:	CMD11 のFW 転送完了終了メッセージ作成				*/
/*--------------------------------------------------------------------------*/
/*	param			:	出力メッセージ										*/
/*--------------------------------------------------------------------------*/
/*	return			:	EOTA_DATA_OK	処理正常							*/
/*						EOTA_DATA_NG	処理異常							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	CMD11 のFW 転送完了終了メッセージを作成する			*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_SetCMD11Stop(
				EOTA_CMD11_REQ_INFO_T	* Mssage)	/* [o]出力メッセージ	*/
{
	uchar	Ret	= EOTA_DATA_OK;						/* 戻り値				*/

	DEBUG_TRCIN();

	/* パラメータチェック */
	if (NULL == Mssage)
	{
		/* パラメータはNULLの場合、エラーログを出力する */
		DLOG_Error("%s", EOTA_FUN_PARAM_NULL);
		Ret = EOTA_DATA_NG;
		return Ret;
	}

	/* メッセージ初期化 */
	memset(Mssage->DataNo, 0, sizeof(Mssage->DataNo));

	/* DataNo 4 バイト */
	sprintf((schar *)Mssage->DataNo, "%04x", EOTA_DATANO_FW_E);

	DEBUG_TRCOUT();

	return Ret;
}

/*==========================================================================*/
/*	Description		:	CMD11 のBusy 確認メッセージ作成						*/
/*--------------------------------------------------------------------------*/
/*	param			:	出力メッセージ										*/
/*--------------------------------------------------------------------------*/
/*	return			:	EOTA_DATA_OK	処理正常							*/
/*						EOTA_DATA_NG	処理異常							*/
/*--------------------------------------------------------------------------*/
/*	detail			:	CMD11 のBusy 確認メッセージを作成する				*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
uchar EOTA_SetCMD11Busy(
				EOTA_CMD11_REQ_INFO_T	* Mssage)	/* [o]出力メッセージ	*/
{
	uchar	Ret	= EOTA_DATA_OK;						/* 戻り値				*/

	DEBUG_TRCIN();

	/* パラメータチェック */
	if (NULL == Mssage)
	{
		/* パラメータはNULLの場合、エラーログを出力する */
		DLOG_Error("%s", EOTA_FUN_PARAM_NULL);
		Ret = EOTA_DATA_NG;
		return Ret;
	}

	/* メッセージ初期化 */
	memset(Mssage->DataNo, 0, sizeof(Mssage->DataNo));

	/* DataNo 4 バイト */
	sprintf((schar *)Mssage->DataNo, "%04x", EOTA_DATANO_BUSY);

	DEBUG_TRCOUT();

	return Ret;
}

/*==========================================================================*/
/*	Description		:	CMD60メッセージ作成									*/
/*--------------------------------------------------------------------------*/
/*	param			:	TODO.												*/
/*--------------------------------------------------------------------------*/
/*	return			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	detail			:	CMD60を設定する										*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
void EOTA_SetCMD60(/*, Message */)
{
	DEBUG_TRCIN();

	/* TODO. */


	DEBUG_TRCOUT();
}

/*--------------------------------------------------------------------------*/
/*	非公開関数定義															*/
/*--------------------------------------------------------------------------*/
/*==========================================================================*/
/*	Description		:	FW 更新実施時刻Sec変更								*/
/*--------------------------------------------------------------------------*/
/*	param			:	無し												*/
/*--------------------------------------------------------------------------*/
/*	return			:	FW 更新実施時刻										*/
/*--------------------------------------------------------------------------*/
/*	detail			:	FW 更新実施時刻をSecに変更する						*/
/*--------------------------------------------------------------------------*/
/*	history 		:	2023/03/20 : DHC.zhangs : 新規作成					*/
/*==========================================================================*/
time_t eota_UpdTime2Sec()
{
	struct tm UpdTime;							/* Time構造体				*/
	schar *	UpdTime_p 						= s_UpdateInfo.UpdSaveInfo.UpdTime;
												/* FW 更新実施時刻ポイント	*/
	schar	time[EOTA_SETUP_TIME_SIZE + 1]	= {0};
												/* Time						*/
	memset(&UpdTime, 0, sizeof(UpdTime));

	/* year設定 */
	memcpy(time, "20", 2);
	strncat(time, UpdTime_p, 2);
	UpdTime.tm_year = atoi(time) - EOTA_TIME_YEAR_START;
	UpdTime_p += 2;

	/* month設定 */
	memset(&time, 0, sizeof(time));
	strncpy(time, UpdTime_p, 2);
	UpdTime.tm_mon = atoi(time) - 1;
	UpdTime_p += 2;

	/* day設定 */
	memset(&time, 0, sizeof(time));
	strncpy(time, UpdTime_p, 2);
	UpdTime.tm_mday = atoi(time);
	UpdTime_p += 3;

	/* hour設定 */
	memset(&time, 0, sizeof(time));
	strncpy(time, UpdTime_p, 2);
	UpdTime.tm_hour = atoi(time);
	UpdTime_p += 2;

	/* min設定 */
	memset(&time, 0, sizeof(time));
	strncpy(time, UpdTime_p, 2);
	UpdTime.tm_min = atoi(time);

	/* sec設定 */
	UpdTime.tm_sec =  0;

	return mktime(&UpdTime);
}

